'use strict';

var oper = '{"operational-topology-message":{"operational-topology":{"topology":[{"topology-id":"of-l3-dci","topology-version":"8bc4ecf2-2c54-44e9-b508-09c7477f65eb","topology-types":{},"node":[{"node-id":"DC1-FB2","status":"operational","termination-point":[{"tp-id":"te-1/1/4","status":"configured","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"qe-1/1/50.201","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/2","status":"configured","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/47.200","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/47.201","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"te-1/1/47.300","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:c5:cb"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:c5:cb"}]},{"node-id":"VRR1-POD-B-201","status":"operational","termination-point":[{"tp-id":"em1.201","status":"operational","mac-address":"52:54:00:38:f4:4a"}]},{"node-id":"VRR1-POD-B-200","status":"operational","termination-point":[{"tp-id":"em1.200","status":"operational","mac-address":"52:54:00:38:f4:4a"}]},{"node-id":"DC2-FB2","status":"operational","termination-point":[{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"te-1/1/4","status":"configured","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"te-1/1/2","status":"configured","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"qe-1/1/50.204","status":"operational","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:e5:d1"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:e5:d1"}]},{"node-id":"DC2-FB1","status":"operational","termination-point":[{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"te-1/1/4","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"te-1/1/2","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"qe-1/1/50.203","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:d5:5f"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:d5:5f"}]},{"node-id":"POD-B2-R1-203","status":"operational","termination-point":[{"tp-id":"FortyGigE1/0/27.203","status":"operational","mac-address":"5c:8a:38:bb:14:6d"}]},{"node-id":"POD-C1-R1-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"POD-A2-R2-100","status":"operational","termination-point":[{"tp-id":"enp130s0d1.100","status":"operational","mac-address":"22:95:6c:22:61:31"}]},{"node-id":"POD-C2-R1-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"DC3-FB2","status":"operational","termination-point":[{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"te-1/1/4","status":"configured","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"te-1/1/2","status":"configured","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:f5:1b"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:f5:1b"}]},{"node-id":"DC3-FB1","status":"operational","termination-point":[{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"te-1/1/4","status":"operational","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"te-1/1/2","status":"operational","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:16:6b"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:16:6b"}]},{"node-id":"POD-A1-R2-100","status":"operational","termination-point":[{"tp-id":"enp130s0d1.100","status":"operational","mac-address":"76:0d:aa:09:af:74"}]},{"node-id":"POD-A3-R2-100","status":"operational","termination-point":[{"tp-id":"enp130s0d1.100","status":"operational","mac-address":"1e:24:52:e3:95:dc"}]},{"node-id":"VRR2-POD-C-300","status":"operational","termination-point":[{"tp-id":"em1.300","status":"operational","mac-address":"52:54:00:3a:d0:6d"}]},{"node-id":"POD-C3-R1-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"POD-B1-R2-201","status":"operational","termination-point":[{"tp-id":"FortyGigE1/0/26.201","status":"operational","mac-address":"5c:8a:38:bb:14:6b"}]},{"node-id":"POD-B2-R2-204","status":"operational","termination-point":[{"tp-id":"FortyGigE1/0/28.204","status":"operational","mac-address":"5c:8a:38:bb:14:6e"}]},{"node-id":"POD-B1-R1-200","status":"operational","termination-point":[{"tp-id":"FortyGigE1/0/25.200","status":"operational","mac-address":"5c:8a:38:bb:14:6a"}]},{"node-id":"VRR2-POD-B-201","status":"operational","termination-point":[{"tp-id":"em1.201","status":"operational","mac-address":"52:54:00:3a:d0:6d"}]},{"node-id":"POD-C1-R2-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"POD-C2-R2-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"POD-C3-R2-300","status":"configured","termination-point":[{"tp-id":"swp49.300","status":"configured"}]},{"node-id":"POD-A3-R1-100","status":"operational","termination-point":[{"tp-id":"enp130s0.100","status":"operational","mac-address":"9e:be:6f:70:7f:e0"}]},{"node-id":"POD-A1-R1-100","status":"operational","termination-point":[{"tp-id":"enp130s0.100","status":"operational","mac-address":"ca:51:29:bb:52:ed"}]},{"node-id":"POD-A2-R1-100","status":"operational","termination-point":[{"tp-id":"enp130s0.100","status":"operational","mac-address":"8e:df:8d:6d:31:9d"}]},{"node-id":"VRR2-POD-B-200","status":"operational","termination-point":[{"tp-id":"em1.200","status":"operational","mac-address":"52:54:00:3a:d0:6d"}]},{"node-id":"VRR1-POD-C-300","status":"operational","termination-point":[{"tp-id":"em1.300","status":"operational","mac-address":"52:54:00:38:f4:4a"}]},{"node-id":"DC1-FB1","status":"operational","termination-point":[{"tp-id":"qe-1/1/50.200","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/4","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"qe-1/1/49","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/2","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/8","status":"configured","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/6","status":"configured","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/1.100","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/10","status":"configured","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/47.200","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/47.201","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"te-1/1/47.300","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"qe-1/1/52","status":"operational","mac-address":"48:0f:cf:af:d5:15"},{"tp-id":"qe-1/1/53.300","status":"configured","mac-address":"48:0f:cf:af:d5:15"}]}],"link":[{"link-id":"DC1-FB1-P1-V100-POD-A1-R1-100","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A1-R1-100","dest-tp":"enp130s0.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB2-P1-V100-POD-A1-R2-100","source":{"source-node":"DC1-FB2","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A1-R2-100","dest-tp":"enp130s0d1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC3-FB2-P49-DC3-FB1-P49","source":{"source-node":"DC3-FB2","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC3-FB1","dest-tp":"qe-1/1/49"},"link-group-id":["DC3-FB2-DC3-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-A1-R2-100-DC1-FB2-P1-V100","source":{"source-node":"POD-A1-R2-100","source-tp":"enp130s0d1.100"},"destination":{"dest-node":"DC1-FB2","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB2-P53-V300-POD-C1-R2-300","source":{"source-node":"DC1-FB2","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C1-R2-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB1-P4-DC2-FB1-P4","source":{"source-node":"DC3-FB1","source-tp":"te-1/1/4"},"destination":{"dest-node":"DC2-FB1","dest-tp":"te-1/1/4"},"link-group-id":["DC3-FB1-DC2-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB1-P2-DC2-FB1-P2","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/2"},"destination":{"dest-node":"DC2-FB1","dest-tp":"te-1/1/2"},"link-group-id":["DC1-FB1-DC2-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB1-P49-DC2-FB2-P49","source":{"source-node":"DC2-FB1","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC2-FB2","dest-tp":"qe-1/1/49"},"link-group-id":["DC2-FB1-DC2-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB1-P47-V200-VRR1-POD-B-200","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/47.200"},"destination":{"dest-node":"VRR1-POD-B-200","dest-tp":"em1.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB2-P53-V300-POD-C2-R2-300","source":{"source-node":"DC2-FB2","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C2-R2-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB2-P52-DC3-FB1-P52","source":{"source-node":"DC3-FB2","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC3-FB1","dest-tp":"qe-1/1/52"},"link-group-id":["DC3-FB2-DC3-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC2-FB2-P50-V204-POD-B2-R2-204","source":{"source-node":"DC2-FB2","source-tp":"qe-1/1/50.204"},"destination":{"dest-node":"POD-B2-R2-204","dest-tp":"FortyGigE1/0/28.204"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB2-P52-DC1-FB1-P52","source":{"source-node":"DC1-FB2","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC1-FB1","dest-tp":"qe-1/1/52"},"link-group-id":["DC1-FB2-DC1-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-A3-R1-100-DC3-FB1-P1-V100","source":{"source-node":"POD-A3-R1-100","source-tp":"enp130s0.100"},"destination":{"dest-node":"DC3-FB1","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB1-P4-DC3-FB1-P4","source":{"source-node":"DC2-FB1","source-tp":"te-1/1/4"},"destination":{"dest-node":"DC3-FB1","dest-tp":"te-1/1/4"},"link-group-id":["DC2-FB1-DC3-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-B1-R2-201-DC1-FB2-P50-V201","source":{"source-node":"POD-B1-R2-201","source-tp":"FortyGigE1/0/26.201"},"destination":{"dest-node":"DC1-FB2","dest-tp":"qe-1/1/50.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB1-P49-DC3-FB2-P49","source":{"source-node":"DC3-FB1","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC3-FB2","dest-tp":"qe-1/1/49"},"link-group-id":["DC3-FB1-DC3-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB1-P1-V100-POD-A3-R1-100","source":{"source-node":"DC3-FB1","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A3-R1-100","dest-tp":"enp130s0.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB1-P50-V203-POD-B2-R1-203","source":{"source-node":"DC2-FB1","source-tp":"qe-1/1/50.203"},"destination":{"dest-node":"POD-B2-R1-203","dest-tp":"FortyGigE1/0/27.203"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-C1-R2-300-DC1-FB2-P53-V300","source":{"source-node":"POD-C1-R2-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC1-FB2","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB2-P1-V100-POD-A3-R2-100","source":{"source-node":"DC3-FB2","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A3-R2-100","dest-tp":"enp130s0d1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-B2-R1-203-DC2-FB1-P50-V203","source":{"source-node":"POD-B2-R1-203","source-tp":"FortyGigE1/0/27.203"},"destination":{"dest-node":"DC2-FB1","dest-tp":"qe-1/1/50.203"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"VRR1-POD-B-201-DC1-FB1-P47-V201","source":{"source-node":"VRR1-POD-B-201","source-tp":"em1.201"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/47.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-A2-R1-100-DC2-FB1-P1-V100","source":{"source-node":"POD-A2-R1-100","source-tp":"enp130s0.100"},"destination":{"dest-node":"DC2-FB1","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-C1-R1-300-DC1-FB1-P53-V300","source":{"source-node":"POD-C1-R1-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC1-FB1","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB1-P53-V300-POD-C1-R1-300","source":{"source-node":"DC1-FB1","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C1-R1-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB1-P52-DC3-FB2-P52","source":{"source-node":"DC3-FB1","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC3-FB2","dest-tp":"qe-1/1/52"},"link-group-id":["DC3-FB1-DC3-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC2-FB2-P52-DC2-FB1-P52","source":{"source-node":"DC2-FB2","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC2-FB1","dest-tp":"qe-1/1/52"},"link-group-id":["DC2-FB2-DC2-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB1-P53-V300-POD-C3-R1-300","source":{"source-node":"DC3-FB1","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C3-R1-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB1-P47-V201-VRR1-POD-B-201","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/47.201"},"destination":{"dest-node":"VRR1-POD-B-201","dest-tp":"em1.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB1-P4-DC3-FB1-P2","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/4"},"destination":{"dest-node":"DC3-FB1","dest-tp":"te-1/1/2"},"link-group-id":["DC1-FB1-DC3-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB1-P53-V300-POD-C2-R1-300","source":{"source-node":"DC2-FB1","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C2-R1-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"VRR2-POD-B-200-DC1-FB2-P47-V200","source":{"source-node":"VRR2-POD-B-200","source-tp":"em1.200"},"destination":{"dest-node":"DC1-FB2","dest-tp":"te-1/1/47.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-C3-R2-300-DC3-FB2-P53-V300","source":{"source-node":"POD-C3-R2-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC3-FB2","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-C2-R1-300-DC2-FB1-P53-V300","source":{"source-node":"POD-C2-R1-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC2-FB1","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB2-P50-V201-POD-B1-R2-201","source":{"source-node":"DC1-FB2","source-tp":"qe-1/1/50.201"},"destination":{"dest-node":"POD-B1-R2-201","dest-tp":"FortyGigE1/0/26.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"VRR2-POD-B-201-DC1-FB2-P47-V201","source":{"source-node":"VRR2-POD-B-201","source-tp":"em1.201"},"destination":{"dest-node":"DC1-FB2","dest-tp":"te-1/1/47.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB2-P49-DC1-FB1-P49","source":{"source-node":"DC1-FB2","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC1-FB1","dest-tp":"qe-1/1/49"},"link-group-id":["DC1-FB2-DC1-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-A2-R2-100-DC2-FB2-P1-V100","source":{"source-node":"POD-A2-R2-100","source-tp":"enp130s0d1.100"},"destination":{"dest-node":"DC2-FB2","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-A1-R1-100-DC1-FB1-P1-V100","source":{"source-node":"POD-A1-R1-100","source-tp":"enp130s0.100"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB1-P47-V300-VRR1-POD-C-300","source":{"source-node":"DC1-FB1","source-tp":"te-1/1/47.300"},"destination":{"dest-node":"VRR1-POD-C-300","dest-tp":"em1.300"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-C3-R1-300-DC3-FB1-P53-V300","source":{"source-node":"POD-C3-R1-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC3-FB1","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC2-FB1-P52-DC2-FB2-P52","source":{"source-node":"DC2-FB1","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC2-FB2","dest-tp":"qe-1/1/52"},"link-group-id":["DC2-FB1-DC2-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-B2-R2-204-DC2-FB2-P50-V204","source":{"source-node":"POD-B2-R2-204","source-tp":"FortyGigE1/0/28.204"},"destination":{"dest-node":"DC2-FB2","dest-tp":"qe-1/1/50.204"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"VRR1-POD-B-200-DC1-FB1-P47-V200","source":{"source-node":"VRR1-POD-B-200","source-tp":"em1.200"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/47.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"VRR2-POD-C-300-DC1-FB2-P47-V300","source":{"source-node":"VRR2-POD-C-300","source-tp":"em1.300"},"destination":{"dest-node":"DC1-FB2","dest-tp":"te-1/1/47.300"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC3-FB1-P2-DC1-FB1-P4","source":{"source-node":"DC3-FB1","source-tp":"te-1/1/2"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/4"},"link-group-id":["DC3-FB1-DC1-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB1-P50-V200-POD-B1-R1-200","source":{"source-node":"DC1-FB1","source-tp":"qe-1/1/50.200"},"destination":{"dest-node":"POD-B1-R1-200","dest-tp":"FortyGigE1/0/25.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"POD-B1-R1-200-DC1-FB1-P50-V200","source":{"source-node":"POD-B1-R1-200","source-tp":"FortyGigE1/0/25.200"},"destination":{"dest-node":"DC1-FB1","dest-tp":"qe-1/1/50.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB2-P47-V201-VRR2-POD-B-201","source":{"source-node":"DC1-FB2","source-tp":"te-1/1/47.201"},"destination":{"dest-node":"VRR2-POD-B-201","dest-tp":"em1.201"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB2-P1-V100-POD-A2-R2-100","source":{"source-node":"DC2-FB2","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A2-R2-100","dest-tp":"enp130s0d1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC1-FB1-P49-DC1-FB2-P49","source":{"source-node":"DC1-FB1","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC1-FB2","dest-tp":"qe-1/1/49"},"link-group-id":["DC1-FB1-DC1-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC3-FB2-P53-V300-POD-C3-R2-300","source":{"source-node":"DC3-FB2","source-tp":"qe-1/1/53.300"},"destination":{"dest-node":"POD-C3-R2-300","dest-tp":"swp49.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC2-FB1-P1-V100-POD-A2-R1-100","source":{"source-node":"DC2-FB1","source-tp":"te-1/1/1.100"},"destination":{"dest-node":"POD-A2-R1-100","dest-tp":"enp130s0.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"VRR1-POD-C-300-DC1-FB1-P47-V300","source":{"source-node":"VRR1-POD-C-300","source-tp":"em1.300"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/47.300"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-C2-R2-300-DC2-FB2-P53-V300","source":{"source-node":"POD-C2-R2-300","source-tp":"swp49.300"},"destination":{"dest-node":"DC2-FB2","dest-tp":"qe-1/1/53.300"},"status":"configured","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB1-P52-DC1-FB2-P52","source":{"source-node":"DC1-FB1","source-tp":"qe-1/1/52"},"destination":{"dest-node":"DC1-FB2","dest-tp":"qe-1/1/52"},"link-group-id":["DC1-FB1-DC1-FB2-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB2-P47-V300-VRR2-POD-C-300","source":{"source-node":"DC1-FB2","source-tp":"te-1/1/47.300"},"destination":{"dest-node":"VRR2-POD-C-300","dest-tp":"em1.300"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB1-P2-DC1-FB1-P2","source":{"source-node":"DC2-FB1","source-tp":"te-1/1/2"},"destination":{"dest-node":"DC1-FB1","dest-tp":"te-1/1/2"},"link-group-id":["DC2-FB1-DC1-FB1-G1"],"status":"operational","link-cost":10,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"DC2-FB2-P49-DC2-FB1-P49","source":{"source-node":"DC2-FB2","source-tp":"qe-1/1/49"},"destination":{"dest-node":"DC2-FB1","dest-tp":"qe-1/1/49"},"link-group-id":["DC2-FB2-DC2-FB1-G1"],"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":40}},{"link-id":"DC1-FB2-P47-V200-VRR2-POD-B-200","source":{"source-node":"DC1-FB2","source-tp":"te-1/1/47.200"},"destination":{"dest-node":"VRR2-POD-B-200","dest-tp":"em1.200"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}},{"link-id":"POD-A3-R2-100-DC3-FB2-P1-V100","source":{"source-node":"POD-A3-R2-100","source-tp":"enp130s0d1.100"},"destination":{"dest-node":"DC3-FB2","dest-tp":"te-1/1/1.100"},"status":"operational","link-cost":1,"max-bandwidth":{"unit":"Gbps","value":10}}]}]},"producer-header":{"producer-type":"controller","producer-id":"controller-kafka","sent-time":"2017-03-14T23:01:24-00:00"}}}';

var obj = JSON.parse(oper);
var map = {};

var nodes = [];
var links = [];

var node = obj['operational-topology-message']['operational-topology']['topology'][0]['node'];
var link = obj['operational-topology-message']['operational-topology']['topology'][0]['link'];

for (var i = 0; i < node.length; i++) {

	var nod = node[i];

	if (nod['termination-point'].length > 1) {

		var flag = "operational";

		for (var j = 0; j < nod['termination-point'].length; j++) {

			if (nod['termination-point'][j]['status'] == "configured") {
				flag = "configured";
			}
		}

		nodes.push({ id: nod['node-id'], name: nod['node-id'], status: nod['status'], 'flag': flag, icon: 'switch', "X": Math.floor(Math.random() * 400), "Y": Math.floor(Math.random() * 400) });
	} else {
		nodes.push({ "id": nod['node-id'], "name": nod['node-id'], "status": nod['status'], 'flag': nod['status'], "icon": 'server', "X": Math.floor(Math.random() * 400), "Y": Math.floor(Math.random() * 400) });

		//map[i] = nod['node-id'];
	}
}

for (var i = 0; i < link.length; i++) {

	var lik = link[i];

	links.push({ "source": lik['source']['source-node'], "target": lik['destination']['dest-node'], "source-tp": lik['source']['source-tp'], "dest-tp": lik['destination']['dest-tp'], "status": lik['status'], "link-cost": lik['link-cost'], "max-bandwidth": lik['max-bandwidth']['value'] });
}
//console.log(nodes);
//console.log(links);

var topologyData = { nodes: nodes, links: links };
